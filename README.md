## 전체 시나리오

1. start를 입력 받으면 게임을 시작한다.
    - [예외] 게임이 시작하지 않았는데 move를 입력하면 예외가 발생한다.
2. move sourcePosition targetPosition을 입력 받아 기물을 움직인다.
    - [예외] 게임 진행 중에 start를 입력하면 예외가 발생한다.
3. status를 입력 받아 각 진영의 score를 출력하고 승패를 출력한다.
4. 킹이 먼저 잡히는 진영이 패하고, 즉시 게임을 종료한다.
5. end를 입력 받아 게임을 종료한다.

### 체스 게임(ChessGame)

- [x] 체스 게임은
    - [x] 위치에 따른 기물 정보를 가지고 있다.
    - [x] 현재 어느 진영의 턴인지 가지고 있다.
    - [x] 각 진영의 점수를 계산할 수 있다.
    - [x] 왕이 죽으면 게임이 끝난다.
        - [x] 어떤 진영이 이겼는지 출력하고 게임을 끝낸다.

## 기물(Piece)

- [x] 기물은
    - [x] 기물의 타입(PieceType)과 진영(Team), 이동 전략(MovingStrategies)을 가지고 있다.
    - [x] 각각의 고유 타입으로 구분된다.
    - [x] 움직이려한 기물이 초기 폰이라면 일반 폰으로 바꿔준다.
    - [예외] 행마법상 움직이지 못하는 곳으로 이동하려고 하면 예외가 발생한다.
    - [예외] 이동하고자 하는 지점에 아군 기물이 있으면 예외가 발생한다.
    - [예외] 빈 기물(EMPTY)를 움직이려 하면 예외가 발생한다.

### 슬라이딩 가능한 기물 (SlidingPiece)

- [x] 룩(Rook)
    - [x] 상, 하, 좌, 우로 움직일 수 있다.
- [x] 비숍(Bishop)
    - [x] 대각선으로 움직일 수 있다.
- [x] 퀸(Queen)
    - [x] 상, 하, 좌, 우, 대각선으로 움직일 수 있다.

### 슬라이딩 불가한 기물 (NonSlidingPiece)

- [x] 나이트(Knight)
    - [x] 나이트 고유의 여덟 방향으로 움직일 수 있다.
- [x] 킹(King)
    - [x] 상, 하, 좌, 우로 움직일 수 있다.

### Empty

- [x] 빈 기물을 뜻하고, 움직일 수 없다.

### 폰(Pawn)

- [x] InitialWhitePawn
    - [x] 이동 전략 : 위로 두 칸, 위로 한 칸 움직일 수 있다.
    - [x] 공격 전략 : 왼쪽 위, 오른쪽 위로 한 칸 움직일 수 있다.
- [x] InitialBlackPawn
    - [x] 이동 전략 : 아래로 두 칸, 아래로 한 칸 움직일 수 있다.
    - [x] 공격 전략 : 왼쪽 아래, 오른쪽 아래로 한 칸 움직일 수 있다.
- [x] WhitePawn
    - [x] 이동 전략 : 위로 한 칸 움직일 수 있다.
    - [x] 공격 전략 : 왼쪽 위, 오른쪽 위로 한 칸 움직일 수 있다.
- [x] BlackPawn
    - [x] 이동 전략 : 아래로 한 칸 움직일 수 있다.
    - [x] 공격 전략 : 왼쪽 아래, 오른쪽 아래로 한 칸 움직일 수 있다.

### Turn

- [x] 초기 턴은 WHITE부터 시작된다.
- [x] WHITE에서 BLACK으로, BLACK에서 WHITE로 턴을 차례로 바꾼다.
- [예외] 자신의 턴이 아님에도 자신의 말을 움직이려고 하면 예외가 발생한다.

### Score

- [x] 현재까지 남아 있는 말에 따라 점수를 계산할 수 있어야 한다.
- [x] 각 말의 점수는 queen은 9점, rook은 5점, bishop은 3점, knight는 2.5점이다.
- [x] pawn의 기본 점수는 1점이다.
    - [x] 하지만 같은 세로줄에 같은 색의 폰이 있는 경우 1점이 아닌 0.5점을 준다.

### DB 시나리오
- [x] 게임 시작시 
  - [x] 진행중이던 게임이 있다면 해당 게임을 로드해서 진행한다.
  - [x] 진행중이던 게임이 없다면 새로운 게임을 시작한다.
- [x] 게임 진행중
  - [x] status를 입력하거나, 상대방의 킹을 잡으면 게임을 종료한다. 그리고 DB를 모두 지운다.
  - [x] 그렇지 않고, end를 입력한다면 마지막 게임 상태를 DB에 저장한다.

### DB DDL
``` sql
create table chess_game
(
    piece_id   int auto_increment primary key,
    piece_file varchar(20) not null,
    piece_rank varchar(20) not null,
    piece_type varchar(20) not null,
    piece_team varchar(20) not null,
    last_turn  varchar(20) not null
);
```
